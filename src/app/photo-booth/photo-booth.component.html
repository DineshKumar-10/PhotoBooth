<div class="photo-booth-container">

  <div class="flash" *ngIf="flash"></div>

  <video
    #video
    autoplay
    playsinline
    [class.mirror]="cameraFacing === 'user'"
    [style.filter]="getFilter()">
  </video>

  <canvas #canvas hidden></canvas>

  <div class="controls">
    <button (click)="startCamera()" [disabled]="isCameraOn">Start</button>
    <button (click)="stopCamera()" [disabled]="!isCameraOn">Stop</button>
    <button (click)="switchCamera()" [disabled]="!isCameraOn">Switch</button>
  </div>

  <select (change)="onFilterChange($event)">
    <option value="none">None</option>
    <option value="grayscale">Grayscale</option>
    <option value="sepia">Sepia</option>
    <option value="blur">Blur</option>
    <option value="brightness">Brightness</option>
    <option value="contrast">Contrast</option>
    <option value="saturate">Saturate</option>
    <option value="vintage">Vintage</option>
    <option value="cool">Cool</option>
  </select>

  <select [(ngModel)]="selectedFrame">
    <option value="none">No Frame</option>
    <option value="birthday">Birthday</option>
    <option value="wedding">Wedding</option>
    <option value="marriage">Marriage</option>
  </select>

  <button (click)="startCountdown()" [disabled]="!isCameraOn">
    Capture
  </button>

  <div class="countdown" *ngIf="countdown > 0">
    {{ countdown }}
  </div>

  <div *ngIf="capturedImage">
    <img [src]="capturedImage">
    <br>
    <button (click)="download()">Download</button>
    <button (click)="retake()">Retake</button>
  </div>

  <div *ngIf="qrCodeUrl">
    <h4>Scan QR</h4>
    <img [src]="qrCodeUrl">
  </div>

</div>
